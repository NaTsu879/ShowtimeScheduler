<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Cinema Seating</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous" />
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
    crossorigin="anonymous"></script>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous" />
  <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8"
    crossorigin="anonymous"></script>
    <link rel="stylesheet" href="path/to/font-awesome/css/font-awesome.min.css" />
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <script src="https://unpkg.com/boxicons@2.1.4/dist/boxicons.js"></script>

    <link rel="stylesheet" href="/styles/seat-map-style.css">
</head>
<body data-hall-id="<%= hallId %>" data-screening-id="<%= screeningId %>">
    <%- include('header', { active: 'movies' }) %>
    <div id="seat-map">
        <div class="screen">FRONT OF CINEMA</div>
        <div class="legend">
            <box-icon type='solid' name='square-rounded' color='white'></box-icon><span>Standard</span>
            
            <box-icon type='solid' name='square-rounded' color='gold'></box-icon><span>Double Daybed</span>
            <box-icon type='solid' name='square-rounded' color='silver'></box-icon><span>Full Recliner</span>
            <box-icon  name='handicap' color='white'></box-icon><span>WheelChair</span>
        </div>
        
        <% let currentRow = ''; %>
        <% seats.forEach((seat, index) => { %>
            <% if (currentRow !== seat.rowLabel) { %>
                <% if (currentRow !== '') { %>
                    </div> <!-- Close the previous row if not the first row -->
                <% } %>
                <div class="row" data-row="<%= seat.rowLabel %>">
                    <div class="row-label"><%= seat.rowLabel %></div>
                <% currentRow = seat.rowLabel; %>
            <% } %>
            <div class="seat <%= seat.seatType %> <%= seat.status %>" 
                data-seat-id="<%= seat.seatID %>" 
                data-seat="<%= seat.seatNumber %>" 
                data-row="<%= seat.rowLabel %>">
               <% if(seat.status === 'selected') { %>
                   <span class="checkmark">âœ“</span>
               <% } %>
           </div>
            <% if (index === seats.length - 1) { %>
                </div> <!-- Close the last row -->
            <% } %>
        <% }); %>
    </div>
    <button id="proceed-button">Proceed</button>
    <%- include('footer')%>
    <script src="/js/seatMapping.js"></script>
</body>
</html>
